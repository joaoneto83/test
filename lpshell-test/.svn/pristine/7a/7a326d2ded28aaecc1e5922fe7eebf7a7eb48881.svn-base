{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from \"axios\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { StackActions, NavigationActions } from 'react-navigation';\nimport api from \"../../../services/api\";\nimport { Container, Logo, Input, ErrorMessage, Button, ButtonText } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar baseURLPost = \"http://192.168.248.20:7090/api/frontEndConfig\";\nvar baseURLGet = \"http://192.168.248.20:7090/api/frontEndConfig\";\nvar SignIn = function (_Component) {\n  _inherits(SignIn, _Component);\n  var _super = _createSuper(SignIn);\n  function SignIn() {\n    var _this;\n    _classCallCheck(this, SignIn);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.hidepass = true;\n    _this.state = {\n      email: '',\n      password: '',\n      error: ''\n    };\n    _this.setHidePass = function () {\n      _this.hidepass = !_this.hidepass;\n    };\n    _this.handleEmailChange = function (email) {\n      _this.setState({\n        email: email\n      });\n    };\n    _this.handlePasswordChange = function (password) {\n      _this.setState({\n        password: password\n      });\n    };\n    _this.handleCreateAccountPress = function () {\n      _this.props.navigation.navigate('SignUp');\n    };\n    _this.handleSignInPress = _asyncToGenerator(function* () {\n      if (_this.state.email.length === 0 || _this.state.password.length === 0) {\n        _this.setState({\n          error: 'Inserisci username e password per continuare!'\n        }, function () {\n          return false;\n        });\n      } else {\n        try {\n          var response = yield api.post('/sessions', {\n            email: _this.state.email,\n            password: _this.state.password\n          });\n          var resetAction = StackActions.reset({\n            index: 0,\n            actions: [NavigationActions.navigate({\n              routeName: 'Main',\n              params: {\n                token: response.data.token\n              }\n            })]\n          });\n          _this.props.navigation.dispatch(resetAction);\n        } catch (_err) {\n          _this.setState({\n            error: 'Si è verificato un problema con il login, controlla le tue credenziali!'\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(SignIn, [{\n    key: \"createPost\",\n    value: function createPost() {\n      axios.post(baseURLPost, {\n        title: \"test\",\n        body: \"test\"\n      }).then(function (response) {\n        try {\n          if (type === \"success\") {\n            navigation.navigate(\"Home\", {\n              user: user\n            });\n          }\n        } catch (error) {\n          console.error(\"error with login\", error);\n        }\n        setPost(response.data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsx(ImageBackground, {\n        source: require(\"../../../assets/images/fundo.png\"),\n        style: {\n          flex: 1,\n          padding: 0\n        },\n        children: _jsx(Container, {\n          children: _jsxs(View, {\n            style: {\n              backgroundColor: 'rgba( 0, 0, 0, .6)',\n              padding: 10,\n              paddingHorizontal: 30,\n              borderRadius: 10,\n              margin: 'auto'\n            },\n            children: [_jsx(StatusBar, {\n              hidden: true\n            }), _jsx(Logo, {\n              source: require(\"../../../assets/images/logica_logo.png\"),\n              resizeMode: \"contain\",\n              style: {\n                marginTop: -30\n              }\n            }), _jsx(Input, {\n              placeholder: \"Utente\",\n              value: this.state.email,\n              onChangeText: this.handleEmailChange,\n              autoCapitalize: \"none\",\n              autoCorrect: false\n            }), _jsx(Input, {\n              placeholder: \"Password\",\n              value: this.state.password,\n              onChangeText: this.handlePasswordChange,\n              autoCapitalize: \"none\",\n              autoCorrect: false,\n              secureTextEntry: this.hidepass\n            }), this.state.error.length !== 0 && _jsx(ErrorMessage, {\n              children: this.state.error\n            }), _jsx(Button, {\n              onPress: this.setHidePass,\n              children: _jsx(ButtonText, {\n                children: \"Accedi\"\n              })\n            })]\n          })\n        })\n      });\n    }\n  }]);\n  return SignIn;\n}(Component);\nSignIn.navigationOptions = {\n  header: null\n};\nSignIn.propTypes = {\n  navigation: PropTypes.shape({\n    navigate: PropTypes.func,\n    dispatch: PropTypes.func\n  }).isRequired\n};\nexport { SignIn as default };","map":{"version":3,"names":["React","Component","useState","PropTypes","axios","View","ImageBackground","StatusBar","StackActions","NavigationActions","api","Container","Logo","Input","ErrorMessage","Button","ButtonText","jsx","_jsx","jsxs","_jsxs","baseURLPost","baseURLGet","SignIn","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","hidepass","state","email","password","error","setHidePass","handleEmailChange","setState","handlePasswordChange","handleCreateAccountPress","props","navigation","navigate","handleSignInPress","_asyncToGenerator","response","post","resetAction","reset","index","actions","routeName","params","token","data","dispatch","_err","_createClass","key","value","createPost","title","body","then","type","user","console","setPost","render","source","require","style","flex","padding","children","backgroundColor","paddingHorizontal","borderRadius","margin","hidden","resizeMode","marginTop","placeholder","onChangeText","autoCapitalize","autoCorrect","secureTextEntry","onPress","navigationOptions","header","propTypes","shape","func","isRequired","default"],"sources":["C:/project/lpshell_mobile/trunck/lpshell-test/app/screens/Login/index.js"],"sourcesContent":["import React, { Component, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from \"axios\";\r\n\r\nimport {View,ImageBackground, StatusBar } from 'react-native';\r\nimport { StackActions, NavigationActions } from 'react-navigation';\r\n\r\n\r\nimport api from '../../../services/api';\r\n\r\nimport {\r\n  Container,\r\n  Logo,\r\n  Input,\r\n  ErrorMessage,\r\n  Button,\r\n  ButtonText,\r\n} from './styles';\r\n\r\nconst baseURLPost = \"http://192.168.248.20:7090/api/frontEndConfig\";\r\nconst baseURLGet = \"http://192.168.248.20:7090/api/frontEndConfig\";\r\n\r\n\r\n\r\nexport default class SignIn extends Component {\r\n  static navigationOptions = {\r\n    header: null,\r\n  };\r\n   \r\n\r\n  static propTypes = {\r\n    navigation: PropTypes.shape({\r\n      navigate: PropTypes.func,\r\n      dispatch: PropTypes.func,\r\n    }).isRequired,\r\n  };\r\n  hidepass = true;\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n  };\r\n   createPost() {\r\n    axios\r\n      .post(baseURLPost, {\r\n        title: \"test\",\r\n        body: \"test\"\r\n      })\r\n      .then((response) => {\r\n        try {\r\n     \r\n          if (type === \"success\") {\r\n            navigation.navigate(\"Home\", { user });\r\n          }\r\n        } catch (error) {\r\n          console.error(\"error with login\", error);\r\n        }\r\n        setPost(response.data);\r\n      });\r\n  }\r\n\r\n  setHidePass = () => {\r\n    this.hidepass = !this.hidepass\r\n  };\r\n\r\n  handleEmailChange = (email) => {\r\n    this.setState({ email });\r\n  };\r\n\r\n  handlePasswordChange = (password) => {\r\n    this.setState({ password });\r\n  };\r\n\r\n  handleCreateAccountPress = () => {\r\n    this.props.navigation.navigate('SignUp');\r\n  };\r\n\r\n  handleSignInPress = async () => {\r\n    if (this.state.email.length === 0 || this.state.password.length === 0) {\r\n       this.setState({ error: 'Inserisci username e password per continuare!' }, () => false);\r\n    } else {\r\n      try {\r\n        const response = await api.post('/sessions', {\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n        });\r\n\r\n        const resetAction = StackActions.reset({\r\n          index: 0,\r\n          actions: [\r\n            NavigationActions.navigate({ routeName: 'Main', params: { token: response.data.token } }),\r\n          ],\r\n        });\r\n        this.props.navigation.dispatch(resetAction);\r\n      } catch (_err) {\r\n        this.setState({ error: 'Si è verificato un problema con il login, controlla le tue credenziali!' });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n\r\n    <ImageBackground source={require('../../../assets/images/fundo.png')} style={{flex: 1, padding: 0}}> \r\n      <Container>\r\n        <View style={{backgroundColor: 'rgba( 0, 0, 0, .6)', padding: 10 ,paddingHorizontal: 30, borderRadius: 10,  margin: 'auto'}}>\r\n        <StatusBar hidden />\r\n        <Logo source={require('../../../assets/images/logica_logo.png')} resizeMode=\"contain\" style={{marginTop: -30}} />\r\n        <Input\r\n          placeholder=\"Utente\"\r\n          value={this.state.email}\r\n          onChangeText={this.handleEmailChange}\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n        />\r\n        <Input\r\n          placeholder=\"Password\"\r\n          value={this.state.password}\r\n          onChangeText={this.handlePasswordChange}\r\n          autoCapitalize=\"none\"\r\n          autoCorrect={false}\r\n          secureTextEntry={this.hidepass}\r\n        />\r\n        {this.state.error.length !== 0 && <ErrorMessage>{this.state.error}</ErrorMessage>}\r\n        <Button onPress={this.setHidePass}>\r\n          <ButtonText>Accedi</ButtonText>\r\n        </Button>\r\n        </View>\r\n      </Container>\r\n      </ImageBackground> \r\n\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}